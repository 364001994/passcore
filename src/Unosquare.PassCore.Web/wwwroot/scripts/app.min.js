!function(){"use strict";angular.module("app",["ngRoute","ui.bootstrap","vcRecaptcha"]).filter("unsafe",["$sce",function(r){return r.trustAsHtml}])}(),function(){"use strict";function r(){var r=angular.injector(["ng"]),e=r.get("$http");return e.get("api/password").then(function(r){t.constant("ViewOptions",r.data)},function(r){})}function e(){angular.element(document).ready(function(){angular.bootstrap(document,["app"])})}var t=angular.module("app");r().then(e)}(),function(){"use strict";angular.module("app").config(["$routeProvider","$locationProvider","ViewOptions",function(r,e,t){r.when("/",{templateUrl:"views/change-password.html",title:t.ChangePasswordTitle}).otherwise({redirectTo:"/"}),e.html5Mode(!0)}])}(),function(){"use strict";angular.module("app").controller("TitleCtrl",["$scope","$route","$location","$routeParams","ViewOptions",function(r,e,t,o,a){var n=this;n.content=a.ApplicationTitle,r.$on("$routeChangeSuccess",function(){n.content=e.current.title+" - "+a.ApplicationTitle})}]).controller("ChangePasswordCtrl",["$scope","$http","$sce","vcRecaptchaService","ViewOptions",function(r,e,t,o,a){r.ViewOptions=a,r.ShowSuccessAlert=!1,r.ShowErrorAlert=!1,r.ErrorAlertMessage="",r.FormData={Username:"",CurrentPassword:"",NewPassword:"",NewPasswordVerify:"",Recaptcha:""},r.EmptyFormData=angular.copy(r.FormData),r.SetRecaptchaResponse=function(e){r.FormData.Recaptcha=e},r.ClearRecaptchaResponse=function(){r.FormData.Recaptcha=""},r.Submit=function(){$("div.form-overlay").show(),$.each(r.Form,function(r,e){e&&void 0!=e.$valid&&(e.Validation={HasError:!1,ErrorMessage:""})}),r.Form.$setUntouched(),r.ShowSuccessAlert=!1,r.ShowErrorAlert=!1,r.ErrorAlertMessage="",e({method:"POST",url:"api/password",data:r.FormData,headers:{"Content-Type":"application/json"}}).then(function(e){$("div.form-overlay").hide(),r.FormData=angular.copy(r.EmptyFormData),r.ShowSuccessAlert=!0},function(e){$("div.form-overlay").hide(),grecaptcha.reset(),$.each(e.data.Errors,function(e,t){1==t.ErrorType?(r.ShowErrorAlert=!0,0==t.ErrorCode?r.ErrorAlertMessage=a.Alerts.ErrorAlertBody+t.Message:r.ErrorAlertMessage=a.Alerts.ErrorAlertBody+r.ViewOptions.ErrorMessages[t.ErrorCode]):2==t.ErrorType&&(r.Form[t.FieldName].Validation.HasError=!0,r.Form[t.FieldName].Validation.ErrorMessage=r.ViewOptions.ErrorMessages[t.ErrorCode])})})}}])}();